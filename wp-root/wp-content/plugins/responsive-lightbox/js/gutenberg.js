function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t,l,r={exports:{}};const a=e((t||(t=1,l=r,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var l=arguments[t];l&&(e=a(e,r(l)))}return e}function r(l){if("string"==typeof l||"number"==typeof l)return l;if("object"!=typeof l)return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var r="";for(var n in l)e.call(l,n)&&l[n]&&(r=a(r,n));return r}function a(e,t){return t?e?e+" "+t:e+t:e}l.exports?(t.default=t,l.exports=t):window.classNames=t}()),r.exports));function n(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),l.push.apply(l,r)}return l}function o(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?n(Object(l),!0).forEach(function(t){i(e,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))})}return e}function i(e,t,l){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var r=l.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}const{MediaUpload:s,MediaUploadCheck:c,BlockControls:m}=wp.blockEditor,{Button:p,Dashicon:g,ToolbarButton:u,ToolbarGroup:d}=wp.components,{registerBlockType:y}=wp.blocks,{__:b}=wp.i18n,{useSelect:f,registerStore:v}=wp.data;v("responsive-lightbox/gallery",{reducer:(e={selectedGallery:null},t)=>"SET_SELECTED_GALLERY"===t.type?o(o({},e),{},{selectedGallery:t.payload}):e,actions:{setSelectedGallery:e=>({type:"SET_SELECTED_GALLERY",payload:e})},selectors:{getSelectedGallery:e=>e.selectedGallery}}),y("responsive-lightbox/remote-library-image",{title:b("Remote Library Image"),description:b("Remote Library images"),icon:"format-image",category:"responsive-lightbox",keywords:[b("image"),b("photo")],attributes:{imageURL:{type:"string",default:""},imageID:{type:"integer",default:""}},edit:e=>{const{setAttributes:t}=e,{attributes:l}=e,r=""!==l.imageURL,n=a("components-placeholder",e.className,r?"rl-image-selected":""),o=e=>{t({imageURL:e.sizes.full.url,imageID:e.id})};return wp.element.createElement("div",null,wp.element.createElement(m,null,r&&wp.element.createElement(d,null,wp.element.createElement(c,null,wp.element.createElement(s,{title:b("Remote Library Images"),addToGallery:!0,gallery:!0,multiple:!1,onSelect:o,allowedTypes:["image"],value:l.imageID,render:({open:e})=>wp.element.createElement(u,{className:["components-toolbar__control","rl-remote-library-media-button"],label:b("Edit image"),icon:"edit",onClick:e})})))),wp.element.createElement("div",{className:n},wp.element.createElement("div",{className:"components-placeholder__label"},wp.element.createElement(g,{icon:"format-image"}),b("Responsive Lightbox | Remote Library Image")),wp.element.createElement("div",{className:"components-placeholder__instructions"},b("Select a file from your remote libraries.")),wp.element.createElement("div",{className:"components-placeholder__fieldset"},wp.element.createElement(c,null,wp.element.createElement(s,{title:b("Remote Library Images"),addToGallery:!0,gallery:!0,multiple:!1,onSelect:o,allowedTypes:["image"],value:l.imageID,render:({open:e})=>wp.element.createElement(p,{className:["is-button","is-secondary","is-default","is-large","editor-media-placeholder__button","editor-media-placeholder__media-library-button","rl-remote-library-media-button"],onClick:()=>{e()}},b("Select image"))}))),wp.element.createElement("img",{className:"rl-block-image-preview",src:l.imageURL})))},save:e=>{const{attributes:t}=e;return wp.element.createElement("figure",{className:"rl-image wp-block-image"},wp.element.createElement("img",{src:t.imageURL}))}}),y("responsive-lightbox/gallery",{title:b("Gallery"),description:b("Galleries"),icon:"format-gallery",category:"responsive-lightbox",keywords:[b("images"),b("photos"),b("gallery")],attributes:{imageURL:{type:"string",default:""},galleryID:{type:"integer",default:0}},edit:e=>{const{setAttributes:t}=e,{attributes:l}=e,r=0!==l.galleryID,n=a("components-placeholder",e.className,r?"rl-gallery-selected":""),o=e=>{t({imageURL:ResponsiveLightboxGallery.lastGalleryImage,galleryID:parseInt(ResponsiveLightboxGallery.lastGalleryID)}),e.currentTarget.removeEventListener("click",o)};return wp.element.createElement("div",null,wp.element.createElement(m,null,r&&wp.element.createElement(d,null,wp.element.createElement(u,{className:["components-toolbar__control","rl-gallery-media-button"],label:b("Edit gallery"),icon:"edit",onClick:()=>{ResponsiveLightboxGallery.resetFilters=!0,ResponsiveLightboxGallery.open(l.galleryID),ResponsiveLightboxGallery.getModalButton().addEventListener("click",o)}}))),wp.element.createElement("div",{className:n},wp.element.createElement("div",{className:"components-placeholder__label"},wp.element.createElement(g,{icon:"format-image"}),b("Responsive Lightbox | Gallery")),wp.element.createElement("div",{className:"components-placeholder__instructions"},b("Select a gallery.")),wp.element.createElement("div",{className:"components-placeholder__fieldset"},wp.element.createElement(p,{className:["is-button","is-secondary","is-default","is-large","editor-media-placeholder__button","editor-media-placeholder__media-library-button","rl-gallery-media-button"],onClick:e=>{ResponsiveLightboxGallery.resetFilters=!0,ResponsiveLightboxGallery.open(),ResponsiveLightboxGallery.getModalButton().addEventListener("click",o)}},b("Select gallery"))),wp.element.createElement("img",{className:"rl-block-image-preview",src:l.imageURL})))},save:e=>{const{attributes:t}=e;return wp.element.createElement("div",null,'[rl_gallery id="',t.galleryID,'"]')}});
